<%= form_with url: philosophers_path, method: :get, class: "search-form" do %>
  <%= text_field_tag :query, params[:query], placeholder: "Search by name" %>
  <%= submit_tag "Search" %>
<% end %>

<% if @philosophers.empty? && params[:query].present? %>
  <p>No such philosophers found. Put a philosopher's name. </p>
<% elsif @philosophers.empty? %>
  <p>No philosophers available at the moment.</p>
<% else %>
  <div class="philosophers-container">
    <% @philosophers.each do |philosopher| %>
      <div class="philosopher-card">
        <h4><%= philosopher.user.username %></h4>
        <div class="philosopher-info">
        <%= image_tag philosopher.user.image_url, alt: "Image of #{philosopher.user.username}", width: "100"%>
        <p><strong>Age:</strong> <%= philosopher.age %></p>
        <p><strong>Location:</strong> <%= philosopher.location %></p>
        <p><strong>Specialization:</strong> <%= philosopher.preferred_topic %></p>
        <!-- Add more content based on the philosopher attributes you want to display -->
        <%= link_to 'Read more...', philosopher_path(philosopher), class: 'button' %>
        </div>
      </div>
    <% end %>
  </div>

<div class="map" style="width: 100%; height: 450px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>
<% end %>
